# HEARTBEAT.md - 定期檢查項目（範例）

> 這是一個範例檔案，展示 HEARTBEAT.md 應該包含哪些內容。
> AI 會根據這個檔案定期執行檢查，並在需要時主動通知。

---

## 使用說明

### 什麼是 Heartbeat？
- Heartbeat 是 AI 助理的「定期巡檢」機制
- 預設每 30-60 分鐘執行一次（可調整）
- 檢查這個檔案中定義的項目
- 如果有需要注意的事項 → 主動通知
- 如果一切正常 → 靜默（回覆 `HEARTBEAT_OK`）

### 如何設定
1. 在這個檔案中列出要檢查的項目
2. 保持簡短（避免過度消耗 API token）
3. 只列「真正需要定期檢查」的項目
4. 如果暫時不需要 heartbeat → 清空這個檔案或只保留註解

---

## 每日檢查項目

### 早上 8:00 - 開始一天

- [ ] **今日行程**
  - 檢查今天的 Google Calendar 事件
  - 格式：簡短版（標題 + 時間）
  - 如果沒有行程 → 說「今天行程是空的」

- [ ] **重要郵件**
  - 檢查過去 12 小時的重要未讀郵件
  - 只報告符合「重要」定義的（見 USER.md）
  - 如果沒有 → 不用報告

**執行方式**：
```bash
# AI 內部執行（不是真的 bash）
gog calendar events --account jacky@mycompany.com --today
gog gmail list --account jacky@mycompany.com --unread --query "重要條件"
```

**回報格式**：
```
📅 今天 3 個行程：
- 10:00-11:00 客戶視訊會議
- 14:00-15:00 內部週會
- 20:00-21:00 運動

📧 1 封重要郵件：
- 客戶 A：合作提案回覆
```

---

### 中午 12:00 - 午間檢查

- [ ] **緊急郵件**（可選）
  - 如果有包含「緊急」「urgent」「今天」的未讀郵件 → 通知
  - 如果沒有 → 靜默

---

### 下午 18:00 - 下班前提醒

- [ ] **今日未完成任務**
  - 檢查今日標記為「今天要做」的任務
  - 如果有未完成的 → 提醒
  - 如果都完成了 → 說「今天任務都完成了」

- [ ] **明日重要行程**
  - 預覽明天有沒有重要會議
  - 如果有早上 10 點前的會議 → 提醒（避免睡過頭）

**回報格式**：
```
⚠️ 今天還有 2 個任務未完成：
- 完成客戶報告
- 回覆 B 公司郵件

📅 明天早上 09:00 有會議（提醒你早起）
```

---

### 晚上 21:00 - 每日工作報告

- [ ] **今日工作摘要**
  - 今天完成了什麼（從行程、任務、郵件推斷）
  - 明天的重要行程
  - 需要注意的事項

**回報格式**：
```
📊 今日工作報告（2026-02-02）

✅ 完成：
- 客戶視訊會議（10:00）
- 完成專案 M1 交付
- 回覆 5 封客戶郵件

📅 明日行程：
- 09:00 早會
- 14:00 技術討論

⚠️ 注意事項：
- A 客戶的報價單已 3 天未回覆
```

---

## 每週檢查項目

### 每週一早上 - 週計劃

- [ ] **本週行程總覽**
  - 列出本週所有會議
  - 標記重要會議（客戶、決策會議）

- [ ] **本週任務**
  - 檢查有沒有「本週要完成」的任務
  - 提醒截止日期

---

### 每週五下午 - 週總結

- [ ] **本週完成事項**
  - 盤點這週完成了什麼
  - 有沒有未完成的重要任務

- [ ] **下週預覽**
  - 下週有沒有重要會議或截止日期
  - 需要提前準備的事項

---

## 每月檢查項目

### 每月 1 號 - 月初檢查

- [ ] **重要日期提醒**
  - 檢查本月有沒有重要生日、紀念日
  - 提前 1-2 週提醒

- [ ] **財務檢查提醒**
  - 提醒檢視上月營收、成本
  - 提醒繳房租（每月 5 號前）

- [ ] **定期檢查項目**
  - 營業稅申報日期檢查
  - OAuth 授權是否即將過期

---

## 動態檢查（隨時）

### 每 2-3 小時（工作時段）

- [ ] **重要郵件監控**
  - 檢查是否有新的重要郵件
  - 定義：客戶郵件、包含「緊急」「今天」等關鍵字
  - 如果有 → 立即通知
  - 如果沒有 → 靜默

### 即將到期提醒

- [ ] **會議提前通知**
  - 15 分鐘前提醒（如果行事曆沒設定提醒）

- [ ] **任務截止提醒**
  - 今天截止的任務，早上再提醒一次
  - 明天截止的任務，今晚提醒

---

## 特殊情境檢查

### 長時間沒活動時

如果我超過 4 小時沒有訊息往來：

- [ ] 檢查是否有緊急事項（重要郵件、即將開始的會議）
- 如果有緊急事項 → 主動提醒
- 如果沒有 → 保持靜默（可能在專心工作或休息）

### 晚上勿擾時段（23:00-08:00）

- [ ] **只在真正緊急時通知**
  - 例如：1 小時後有會議（可能忘記設鬧鐘）
  - 例如：客戶標記「緊急」的深夜郵件
- [ ] 其他都等到早上再說

---

## 背景維護工作（不需通知）

### 定期執行但不報告

- [ ] **整理記憶檔案**
  - 每 2-3 天審查 memory/YYYY-MM-DD.md
  - 提取重要資訊更新到 MEMORY.md
  - 刪除過時或重複的資訊

- [ ] **檔案整理**
  - 定期檢查 Downloads 資料夾是否需要整理（提醒但不自動做）

---

## 暫時停用的檢查

以下項目目前不啟用，但保留以備未來使用：

```markdown
### CRM 客戶追蹤（未來功能）
- [ ] 檢查客戶最後聯繫時間
- [ ] 超過 30 天沒聯繫的重要客戶 → 提醒

### 專案進度追蹤（未來功能）
- [ ] 檢查專案里程碑進度
- [ ] 延遲的任務 → 提醒
```

---

## 調整與優化建議

### 太吵了（通知太多）？
- 減少檢查頻率（例如：早晚各一次就好）
- 提高「重要」的門檻
- 暫停非必要的檢查項目

### 太安靜了（錯過重要事項）？
- 增加檢查頻率
- 降低「重要」的門檻
- 新增更多檢查項目

### 如何測試
```
# 手動觸發一次 heartbeat 檢查
（在對話中說）「執行一次 heartbeat 檢查」
```

---

## 備註

- **保持簡短**：過多檢查會消耗 API token 和時間
- **只檢查重要的**：日常瑣事不用每次都檢查
- **動態調整**：根據實際使用感受隨時修改這個檔案
- **批次檢查**：多個項目在同一時段檢查，減少 API 呼叫次數

---

## 範例：一天的 Heartbeat 時間表

```
08:00 ✅ 早晨檢查（行程 + 重要郵件）
10:30 🔄 靜默巡檢（只檢查緊急事項）
13:00 🔄 靜默巡檢
15:30 🔄 靜默巡檢
18:00 ⚠️ 下班提醒（未完成任務 + 明日預覽）
21:00 📊 每日工作報告
23:00+ 😴 勿擾模式（只有真正緊急才通知）
```

---

*這個檔案是 AI 的「工作清單」，根據你的實際需求調整。不需要的檢查項目可以刪除或註解掉。*
